<div class="container">
    <h1>Emprunter un livre</h1>
    <form class="loanForm" method="post" [formGroup]="loanForm" (ngSubmit)="createLoan()">
        <mat-form-field appearance="fill">
            <mat-label>Adresse mail</mat-label>
            <input matInput type="email" name="mail" formControlName="mail">
        </mat-form-field>
        <!-- <mat-form-field appearance="fill">
            <mat-label>Livre Ã  emprunter</mat-label>
            <input matInput type="text" name="title" formControlName="title">
        </mat-form-field> -->
        <div *ngIf="books$ | async as books">
            <mat-form-field appearance="fill">
                <mat-label>Choisir un livre</mat-label>
                <mat-select formControlName="title">
                    <mat-option *ngFor="let book of books" [value]="book.title">{{book.title}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <button mat-raised-button type="submit">Emprunter</button>
    </form>
    <p id="message"></p>
</div>